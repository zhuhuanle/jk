# jk
极客时间作业

## 1.jvm 

jvm主要设置的参数我觉得应该是堆内存，堆内存的大小尽量在系统资源的2/3，根据程序对大文件，大对象以及大对象作用时间情况设置新生代和老年代的比例，根据堆大小设置jc回收策略，在分布式容器化服务中，并行jc可能会因为容器跟宿主机之间，资源未完全隔离而导致，jc时分配的线程过多，而出现程序异常

![jvm](F:\jkgithub\jk\jvm\src\main\resources\jvm.png)

##  2.nio

 Selector能够检测多个注册的通道上是否有事件发生，如果有事件发生，便获取事件然后针对每个事件进行相应的响应处理。只是用一个单线程就可以管理多个通道，也就是管理多个连接。这样使得只有在连接真正有读写事件发生时，才会调用函数来进行读写，就大大地减少了系统开销，并且不必为每个连接都创建一个线程，不用去维护多个线程，并且避免了多线程之间的上下文切换导致的开销 

![nio](C:\Users\HP\Desktop\微信图片_20210718110015.png)

## 3.并发编程

并发编程的核心是线程操作资源类，传统的web项目也是多线程工作的，但是很少考虑线程并发安全，应为传统的web项目，并发操作主要集中在数据库，由数据库做了并发安全限制，对于系统内存的中的静态资源，或者自己启用多线程操作的资源，就要考虑多线程问题，主要是线程安全容器的使用，和线程安全工具类的使用，建立合适业务模型，尽量避免加锁的情况。

![juc](C:\Users\HP\Desktop\juc.png)

## 4.spring和orm

spring框架现在已经是java的业界规范，springboot的出现，很大程度上简化了配置，提升开发效率，spring与常用orm的整合做的也是比较好，很大程度简化了程序操作数据库的难度，常用jpa单表操作比较简单，mybatis-plus也实现这些功能，简化了开发，复杂sql可以写在xml文件中，方便优化。

![spring](C:\Users\HP\Desktop\spring.png)

## 5.mysql数据库和sql

mysql数据库开源关系型使用范围比较广，mysql常用的引擎myisam和innodb，myisam不支持事务，innodb支持事务，mysql默认的隔离级别是可重复读即同一个事务，前后读去数据一致。sql 分类 DDL数据定义语句，创建数据库，表，索引等，DQL数据查询语句，DML数据操作语句，insert update等，DCL,事务控制语句

![mysql](C:\Users\HP\Desktop\mysql.png)

## 6.分库分表

随着业务的增加数据程量也在增大，为了保证系统的稳定性，可用性和响应速率，等，要对业务数据进行分库分表，因为目前大多数系统都已经改造成为微服务，所以垂直分库是目前市面上比较常见的拆分方式，操作也相对容易，如果单表的数据量太大就要使用分表，分表使用一些中间件来简化业务代码分表带来的难度问题，

![分库分表](C:\Users\HP\Desktop\分库分表.png)

## 7.RPC与微服务

随着服务的拆分，服务之间的调用就变的很多，需要走网络，进行服务间的通讯，简化服务调用可以加快开发进度，RPC框架主要承载的的功能就是屏蔽微服务之间的网络调用，使得服务之间的调用像调用本地服务一样简单，方便。封装底层的数据传输方式，提升效率。

![rpc](C:\Users\HP\Desktop\rpc通讯.png)

## 8.分布式缓存

随着微服务的拆分，服务内存中的缓存改为统一的缓存中心，进行管理方便效率高，浪费资源少。目前比较主流的分布式缓存中间件redis，存取效率都比较高，市面上大多数公司都在使用，spring框架集成完善，可以快速的在springboot中使用的分布式中间件。

![缓存](C:\Users\HP\Desktop\分布式缓存.png)

## 9.分布式消息队列

分布式消息队列主要是业务解耦，提升业务处理速度，减短业务调用链路，对于复杂业务，没有必要等到所有的业务流程走完之后再回复客户成功，主业务走完之后，后面业务可以提交到消息队列，由子系统消费这些业务系统，消息队列也基本实现ack确认机制可以保证消息消费的可靠性。

![消息队列](C:\Users\HP\Desktop\分布式消息队列.png)

